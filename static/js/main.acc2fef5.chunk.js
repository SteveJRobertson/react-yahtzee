(this["webpackJsonpreact-yahtzee"]=this["webpackJsonpreact-yahtzee"]||[]).push([[0],{29:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(6),c=n(1),r=n.n(c),o=n(22),a=n.n(o),d=(n(29),n(20)),l=n(5),s=n(4),u=n(0),b=n(10),h=n(23),f=n(17);var j={name:"198rfvd",styles:'background:Crimson;border:none;border-radius:0;bottom:0;box-sizing:border-box;color:white;font-family:"Rye",cursive;font-size:1.5rem;line-height:1.5rem;padding:1rem;position:fixed;text-transform:uppercase;width:100%;&:active{background:Gold;color:black;}&:focus{outline:none;}'},O=function(e){var t=e.children,n=Object(f.a)(e,["children"]);return Object(u.b)("button",Object(l.a)(Object(l.a)({},n),{},{css:j,children:t}))};var p={name:"1nklbez",styles:"display:grid;gap:0.5rem 0.5rem;grid-auto-flow:column;grid-template-columns:repeat(2, calc(50% - 0.25rem));grid-template-rows:repeat(7, 8vh)"},g={name:"144ggxd",styles:"padding:0.5rem;position:relative"},x=function(e){var t=e.children;return Object(u.b)("div",{css:g,children:Object(u.b)("div",{css:p,children:t})})},m=n(3),v=function(e,t){return Math.floor(Math.random()*(e+1-t))+t},y=function(e,t){return e.reduce((function(e,n){return n===t?e+n:e+0}),0)},w=function(e,t){for(var n=function(n){if(e.filter((function(e){return e===n})).length>=t)return{v:e.reduce((function(e,t){return e+t}))}},i=1;i<=6;i++){var c=n(i);if("object"===typeof c)return c.v}return 0},W=function(e,t){for(var n=e.slice().sort(),i=1,c=1;c<6;c++)n[c]===n[c-1]+1&&(i+=1);return i>=t?10*(t-1):0},S=function(e){var t=e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("");return t.slice(0,1).toLowerCase()+t.slice(1)},k="Start",T=[[{x:180,y:1620},{x:540,y:1260},{x:900,y:900},{x:1260,y:540},{x:1620,y:180},{x:1980,y:1980}],[{x:0,y:1980},{x:360,y:1620},{x:720,y:1260},{x:1080,y:900},{x:1440,y:540},{x:1800,y:180}],[{x:180,y:450},{x:540,y:810},{x:900,y:1170},{x:1260,y:1530},{x:1620,y:1890},{x:1980,y:90}],[{x:0,y:90},{x:360,y:450},{x:720,y:810},{x:1080,y:1170},{x:1440,y:1530},{x:1800,y:1890}],[{x:270,y:1710},{x:630,y:1350},{x:990,y:990},{x:1350,y:630},{x:270,y:1710},{x:2070,y:0}],[{x:90,y:270},{x:450,y:630},{x:810,y:990},{x:1170,y:1350},{x:1530,y:1710},{x:1890,y:2070}]],C={upper:[{id:"aces",name:"Aces",calculator:function(e){return y(e,1)}},{id:"twos",name:"Twos",calculator:function(e){return y(e,2)}},{id:"threes",name:"Threes",calculator:function(e){return y(e,3)}},{id:"fours",name:"Fours",calculator:function(e){return y(e,4)}},{id:"fives",name:"Fives",calculator:function(e){return y(e,5)}},{id:"sixes",name:"Sixes",calculator:function(e){return y(e,6)}},{id:"upperBonus",name:"Bonus"}],lower:[{id:"threeOfAKind",name:"Three of a Kind",calculator:function(e){return w(e,3)},longText:!0},{id:"fourOfAKind",name:"Four of a Kind",calculator:function(e){return w(e,4)},longText:!0},{id:"fullHouse",name:"Full House",calculator:function(e){for(var t=[],n=function(n){t[n]=e.filter((function(e){return e===n}))},i=1;i<=6;i++)n(i);return 2===t.filter((function(e){return e.length})).length?25:0},longText:!0},{id:"smallStraight",name:"Small Straight",calculator:function(e){return W(e,4)},longText:!0},{id:"largeStraight",name:"Large Straight",calculator:function(e){return W(e,5)},longText:!0},{id:"chance",name:"Chance",calculator:function(e){return e.reduce((function(e,t){return e+t}))},longText:!0},{id:"yahtzee",name:"Yahtzee",calculator:function(e){for(var t=function(t){if(5===e.filter((function(e){return e===t})).length)return{v:50}},n=1;n<=6;n++){var i=t(n);if("object"===typeof i)return i.v}return 0},longText:!0}]},z=(C.upper.length,C.lower.length,Object(c.createContext)({})),L=function(){return Object(c.useContext)(z)};var E=function(e){var t=e.alignSelf,n=e.dieWidth,i=t?Object(m.a)("align-self:",t,";",""):null;return Object(u.b)("span",{css:Object(m.a)(i," display:block;width:calc(",n,"px * 0.2);height:calc(",n,"px * 0.2);border-radius:50%;background-color:white;box-shadow:inset calc(",n,"px / 24) calc(",n,"px / 24) calc(",n,"px / 12) rgba(0, 0, 0, 0.2);","")})},F={name:"2o6p8u",styles:"justify-content:space-between"},R=function(e){var t,n=e.children,i=e.dieWidth,c=e.held,r=e.position,o=F;switch(r){case"first":t=Object(m.a)("align-items:center;justify-content:center;transform:translateZ(calc(",i,"px / 2));","");break;case"second":t=Object(m.a)(o," transform:rotateX(-180deg) translateZ(calc(",i,"px / 2));","");break;case"third":t=Object(m.a)(o," transform:rotateY(90deg) translateZ(calc(",i,"px / 2));","");break;case"fourth":t=Object(m.a)(o," transform:rotateY(-90deg) translateZ(calc(",i,"px / 2));","");break;case"fifth":t=Object(m.a)(o," transform:rotateX(90deg) translateZ(calc(",i,"px / 2));","");break;case"sixth":t=Object(m.a)(o," transform:rotateX(-90deg) translateZ(calc(",i,"px / 2));","")}return Object(u.b)("div",{css:Object(m.a)("display:flex;box-sizing:border-box;padding:15%;background-color:",c?"rgba(139, 0, 0, 0.85)":"rgba(220, 20, 60, 0.85)",";width:",i,"px;height:",i,"px;position:absolute;",t,";",""),children:n})},A=function(e){var t=e.children,n=e.dieWidth,i=e.justifyContent,c=void 0===i?"space-between":i;return Object(u.b)("div",{css:Object(m.a)("display:flex;flex-direction:column;justify-content:",c||"space-between",";width:calc(",n,"px * 0.21);height:calc(",n,"px * 0.7);",""),children:t})},Z={name:"1ucylfr",styles:"align-items:center;display:flex;justify-content:center"},B=function(e){var t,n=e.id,i=e.number,r=(e.rotation,e.width),o=L(),a=o.diceState,d=o.roundStarted,l=o.onHold,b=!!a&&(null===(t=a.find((function(e){return e.id===n})))||void 0===t?void 0:t.hold),h=Object(c.useState)(!1),f=Object(s.a)(h,2),j=f[0],O=f[1],p=Object(c.useState)(0),g=Object(s.a)(p,2),x=g[0],y=g[1],w=Object(c.useState)(0),W=Object(s.a)(w,2),S=W[0],k=W[1];Object(c.useEffect)((function(){O(!!b)}),[b]),Object(c.useEffect)((function(){if(i){var e=v(6,1)-1,t=T[i-1][e],n=t.x,c=t.y;y(n+1800),k(c+1800)}}),[i]);return Object(u.b)("div",{css:Z,onClick:function(){d&&l&&l(n)},children:Object(u.b)("div",{css:Object(m.a)("perspective:",12*r,"px;perspective-origin:50% ",r,";",""),children:Object(u.c)("div",{css:Object(m.a)("position:relative;width:",r,"px;height:",r,"px;transform-style:preserve-3d;transform:rotateX(",x,"deg) rotateY(",S,"deg);transition:transform 2s;",""),children:[Object(u.b)(R,{dieWidth:r,held:j,position:"first",children:Object(u.b)(E,{dieWidth:r})}),Object(u.c)(R,{dieWidth:r,held:j,position:"second",children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{alignSelf:"flex-end",dieWidth:r})]}),Object(u.c)(R,{dieWidth:r,held:j,position:"third",children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{alignSelf:"center",dieWidth:r}),Object(u.b)(E,{alignSelf:"flex-end",dieWidth:r})]}),Object(u.c)(R,{dieWidth:r,held:j,position:"fourth",children:[Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]}),Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]})]}),Object(u.c)(R,{dieWidth:r,held:j,position:"fifth",children:[Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]}),Object(u.b)(A,{dieWidth:r,justifyContent:"center",children:Object(u.b)(E,{dieWidth:r})}),Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]})]}),Object(u.c)(R,{dieWidth:r,held:j,position:"sixth",children:[Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]}),Object(u.c)(A,{dieWidth:r,children:[Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r}),Object(u.b)(E,{dieWidth:r})]})]})]})})})};var K={name:"tmmtfm",styles:"padding:1.5rem 1.5rem 0;position:relative"},P=Object(c.forwardRef)((function(e,t){var n=e.width,i=L().diceState,r=function(e){return Math.floor(e/5)-19.2},o=Object(c.useState)(r(n)),a=Object(s.a)(o,2),d=a[0],l=a[1];Object(c.useEffect)((function(){l(r(n))}),[n]);return Object(u.b)("div",{ref:t,css:K,children:Object(u.b)("div",{css:Object(m.a)("display:grid;gap:",1.5,"rem ",1.5,"rem;grid-auto-flow:column;grid-template-columns:repeat(5, ",d,"px);grid-template-rows:100%;height:",d,"px;",""),children:function(){if(!i)return null;var e=!1;return i.map((function(t,n){var i=t.id,c=t.score;return e=!e,Object(u.b)(B,{id:i,number:c,rotation:e?"forwards":"backwards",width:d},n)}))}()})})}));var Y={name:"62i8ur",styles:'align-items:center;background-color:Crimson;box-shadow:0 0.5vh 2vh rgba(0, 0, 0, 0.25);color:white;display:flex;font-family:"Lato",sans-serif;font-size:1.25rem;height:1.5rem;justify-content:space-between;padding:0.5rem;position:fixed;width:100%'},H=function(e){var t=e.totalScore;return Object(u.b)("header",{css:Y,children:Object(u.c)("span",{children:["Score: ",t]})})};var M={name:"1ibezyt",styles:"align-items:center;background-color:Crimson;border-radius:1vh;color:white;display:flex;font-size:2.5vh;justify-content:center;height:5vh;width:5vh"},U={name:"w25ttv",styles:'align-items:center;background:transparent;border:0.5vw double white;border-radius:2vh;box-sizing:border-box;color:white;display:flex;font-family:"Rye",cursive;justify-content:space-between;text-align:left;text-transform:uppercase;padding:0.5rem 0.5rem 0.5rem 1rem;&:active{background:Gold;border-color:black;color:black;}&:focus{outline:none;}'},X=function(e){e.id;var t=e.score,n=e.name,i=e.longText,c=Object(f.a)(e,["id","score","name","longText"]);return Object(u.c)("button",Object(l.a)(Object(l.a)({css:U},c),{},{children:[Object(u.b)("span",{css:Object(m.a)("flex:1;font-size:",i?"2.25vh":"3vh",";padding-right:3vw;",""),children:n}),t?Object(u.b)("span",{css:M,children:t}):null]}))};var G=[Object(b.a)(),Object(b.a)(),Object(b.a)(),Object(b.a)(),Object(b.a)()],I=[{id:G[0],hold:!1,score:0},{id:G[1],hold:!1,score:0},{id:G[2],hold:!1,score:0},{id:G[3],hold:!1,score:0},{id:G[4],hold:!1,score:0}],N={name:"tieic7",styles:"align-self:center;margin:0 auto"},J={name:"sptkz6",styles:"display:flex;flex-direction:column;height:calc(100vh - 48px);padding-top:48px;max-width:640px;margin:0 auto"},D={name:"1las8a6",styles:'background-color:SeaGreen;color:white;display:flex;font-family:"Lato",sans-serif;height:calc(100vh - 3.5rem);width:100%'},$=function(){var e=Object(c.useState)(k),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),a=o[0],b=o[1],f=Object(c.useState)(!1),j=Object(s.a)(f,2),p=j[0],g=j[1],m=Object(c.useState)(!1),y=Object(s.a)(m,2),w=y[0],W=y[1],T=Object(c.useState)(!1),L=Object(s.a)(T,1)[0],E=Object(c.useState)(I),F=Object(s.a)(E,2),R=F[0],A=F[1],Z=Object(c.useState)(0),B=Object(s.a)(Z,2),K=B[0],Y=B[1],M=Object(c.useState)(0),U=Object(s.a)(M,1)[0],G=Object(c.useRef)(null),$=Object(h.a)({ref:G}).width,q=void 0===$?1:$;Object(c.useEffect)((function(){w&&setTimeout((function(){W(!1)}),2e3)}),[w]);Object(c.useEffect)((function(){if(a)return L?void i("Next Round"):void i("".concat("Roll"," (").concat(K,")"));i(k)}),[a,K,L,p]);return Object(u.c)(z.Provider,{value:{diceState:R,diceWidth:q,roundStarted:p,onHold:function(e){if(R.find((function(t){return t.id===e}))){var t=R.map((function(t){return t.id!==e?t:Object(l.a)(Object(l.a)({},t),{},{hold:!t.hold})}));t&&A(t)}}},children:[Object(u.b)("div",{css:D,children:a?Object(u.c)(u.a,{children:[Object(u.b)(H,{totalScore:U}),Object(u.c)("div",{css:J,children:[Object(u.b)(x,{children:[].concat(Object(d.a)(C.upper),Object(d.a)(C.lower)).map((function(e,t){e.id;var n=e.name,i=(e.calculator,e.longText);return Object(u.b)(X,{id:S(n),name:n,score:30,longText:i,children:n},S(n))}))}),Object(u.b)(P,{ref:G,width:q})]})]}):Object(u.b)("h1",{css:N,children:"React Yahtzee"})}),Object(u.b)(O,{disabled:p&&(w||0===K),onClick:function(){a||(b(!0),Y(3)),p?(console.log("CLICK"),W(!0),A(R.map((function(e){var t,n=e.hold,i=e.score;if(n)return e;do{if(t=v(6,1),0===i)break}while(t===i);return Object(l.a)(Object(l.a)({},e),{},{score:t})}))),Y(K-1)):g(!0)},children:n})]})},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),r(e),o(e)}))};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)($,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-yahtzee",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-yahtzee","/serviceWorker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Q(t,e)}))}}(),V()}},[[32,1,2]]]);
//# sourceMappingURL=main.acc2fef5.chunk.js.map